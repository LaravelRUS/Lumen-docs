# Шаблонизатор

- [Шаблоны Blade](#blade-templating)
- [Другие директивы Blade](#other-blade-control-structures)

<a name="blade-templating"></a>
## Шаблоны Blade

Blade простой, но мощный шаблонизатор в Laravel, к счастью он доступен и в Lumen (батарейки в комплекте). Blade основан на концепции наследования шаблонов и секциях. Все шаблоны Blade должны иметь расширение .blade.php.

#### Определение шаблона Blade

	<!-- хранится в resources/views/layouts/master.blade.php -->

	<html>
		<head>
			<title>Название приложения - @yield('title')</title>
		</head>
		<body>
			@section('sidebar')
				Это основной сайдбар.
			@show

			<div class="container">
				@yield('content')
			</div>
		</body>
	</html>

#### Использование шаблонов Blade

	@extends('layouts.master')

	@section('title', 'Page Title')

	@section('sidebar')
		@@parent

		<p>Этот элемент будет добавлен к основному сайдбару.</p>
	@stop

	@section('content')
		<p>Содержимое страницы.</p>
	@stop

Обратите внимание, что шаблоны, которые расширяют другой Blade-шаблон с помощью `extend`, просто перекрывают секции последнего. Содержание шаблона может быть включено в "наследнике" с помощью дерективы `@@parent`, что позволяет добавлять к содержимому шаблона боковой панели, колонтитулы и прочее.

Иногда, например, когда вы не уверены, что раздел был определен - вам может понадобиться указать значение по умолчанию для директивы @yield. Вы можете передать его в качестве второго аргумента

	@yield('section', 'Default Content')

<a name="other-blade-control-structures"></a>
## Другие директивы Blade

#### Вывод данных

	Привет, {{ $name }}.

	Текущее время в формате UNIX timestamp {{ time() }}.

#### Вывод переменной с проверкой на существование

Иногда вам необходимо вывести переменную но вы не уверены существует ли она, в таком случае вы можете использовать такую конструкцию:

	{{ isset($name) ? $name : 'Default' }}

Но вам не обязательно писать тернарный оператор, т.к. Blade позволяет выполнить его короткую запись:

	{{ $name or 'Default' }}

#### Вывод текста в фигурных скобках

Если вам необходимо вывести текст с фигурными скобками, то вы можете поставить символ `@` перед ними:

	@{{ Этот текст Blade обрабатывать не будет}}

#### Вывод "сырого" (Raw) текста

Если вы не хотите, что бы данные экранировались, используйте следующий синтаксис:

	Привет, {!! $name !!}.

> **Примечание:** Будьте очень осторожны, когда выводите контент предоставленный пользователями вашего приложения. Всегда используйте синтаксис двойной фигурной скобки, чтобы экранировать HTML сущности в содержании.

#### If Директива

	@if (count($records) === 1)
		Существует одна запись!
	@elseif (count($records) > 1)
		Существует несколько записей!
	@else
		Записей не существует ;( !
	@endif

	@unless (Auth::check())
		Пользователь не авторизован.
	@endunless

#### Циклы

	@for ($i = 0; $i < 10; $i++)
		The current value is {{ $i }}
	@endfor

	@foreach ($users as $user)
		<p>This is user {{ $user->id }}</p>
	@endforeach

	@forelse($users as $user)
		<li>{{ $user->name }}</li>
	@empty
		<p>No users</p>
	@endforelse

	@while (true)
		<p>I'm looping forever.</p>
	@endwhile

#### Включение подшаблонов

	@include('view.name')

Вы так же можете передать массив данных при вызове подшаблона :

	@include('view.name', ['some' => 'data'])

#### Перезапись секций

Чтобы перезаписать секцию полностью, вы можете использовать директиву `overwrite`:

	@extends('list.item.container')

	@section('list.item.content')
		<p>Это элемент типа {{ $item->type }}</p>
	@overwrite

#### Строки файлов локализации

	@lang('language.line')

	@choice('language.line', 1)

#### Комментарии

	{{-- Этот комментарий не будет виден в "отрисованном" шаблоне --}}
