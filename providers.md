# Service Providers (Сервис Провайдеры)

- [Введение](#introduction)
- [Основы](#basic-provider-example)
- [Регистрация провайдеров](#registering-providers)

<a name="introduction"></a>
## Введение

Сервис Провайдеры занимают центральное место в первоначальной загрузки Lumen. Ваше приложение, так же как и основные сервисы Lumen загружаются через Сервис Провайдеры.

Но что мы понимаем под "первоначальной загрузкой"? Главным образом это регистрация некоторых вещей, таких как биндинги в IoC-контейнер, слушателей событий. В общем Сервис Провайдеры это центральное место для конфигурирования вашего приложения.

Если вы откроете файл `bootstrap/app.php`, то вы увидите вызов `$app->register()`. Здесь вы можете добавлять свои методы для регистрации Сервис Провайдеров.

В этом обзоре вы узнаете как писать собственные Сервис Провайдеры и регистрировать их в вашем приложении.

<a name="basic-provider-example"></a>
## Основы

Все Сервис Провайдеры расширяют класс `Illuminate\Support\ServiceProvider`. Это абстрактный класс требует, что бы вы определили по крайней мере один метод `register` в вашем провайдере.

### Метод `register`

Теперь давайте взглянем на простой Сервис Провайдер

	<?php namespace App\Providers;

	use Riak\Connection;
	use Illuminate\Support\ServiceProvider;

	class RiakServiceProvider extends ServiceProvider {

		/**
		 * Register bindings in the container.
		 * Регистрация биндингов в контейнер 
		 *
		 * @return void
		 */
		public function register()
		{
			$this->app->singleton('Riak\Contracts\Connection', function($app) {
				return new Connection($app['config']['riak']);
			});
		}

	}

Этот Сервис Провайдер определяет только метод `register`, и использует этот метод, чтобы определить реализацию `Riak\Contracts\Connection` в Сервис Контейнере. Если вы не понимаете, как работает Сервис Контейнер то не волнуйтесь, [мы рассмотрим его работу позже](/docs/container).
Этот класс находится в пространстве имён `App\Providers` так как это место по умолчанию используется для Сервис Провайдеров Laravel. Тем не менее, вы можете расположить Сервис провайдер там, где вам нравится, Composer позаботится о его загрузке.

<a name="registering-providers"></a>
## Регистрация Сервис Провайдеров

Все Сервис Провайдеры регистрируются в файле `bootstrap/app.php`. Этот файл содержит простой вызов `$app->register()`.

Для регистрации вашего Сервис Провайдера, просто добавьте еще один вызов этого метода:

	$app->register('App\Providers\YourServiceProvider');
